set -o vi # vim style
source ~/antigen/antigen.zsh

antigen use oh-my-zsh

# Bundles from the default repo (robbyrussell's oh-my-zsh).
antigen bundle git
antigen bundle extract 
antigen bundle heroku
antigen bundle pip
antigen bundle lein
antigen bundle command-not-found
antigen bundle autojump
antigen bundle z
antigen bundle d
antigen bundle cargo
antigen bundle kubectl
antigen bundle zsh-users/zsh-autosuggestions
# Syntax highlighting bundle.
antigen bundle zsh-users/zsh-syntax-highlighting
# y copy to system clipboard
antigen bundle "https://github.com/kutsan/zsh-system-clipboard.git"
antigen bundle "https://github.com/joshskidmore/zsh-fzf-history-search.git"

# Load the theme
# https://github.com/zsh-users/antigen/issues/675#issuecomment-452764451
THEME=robbyrussell
antigen list | grep $THEME; if [ $? -ne 0 ]; then antigen theme $THEME; fi

# Tell Antigen that you're done.
antigen apply

export PATH=~/bin:$PATH

export PATH=$PATH:/usr/local/go/bin:~/.local/bin

export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"  # This loads nvm
[ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"  # This loads nvm bash_completion


# The next line updates PATH for the Google Cloud SDK.
if [ -f '/home/oaa/bin/google-cloud-sdk/path.zsh.inc' ]; then . '/home/oaa/bin/google-cloud-sdk/path.zsh.inc'; fi

# The next line enables shell command completion for gcloud.
if [ -f '/home/oaa/bin/google-cloud-sdk/completion.zsh.inc' ]; then . '/home/oaa/bin/google-cloud-sdk/completion.zsh.inc'; fi


alias gpm="git pull origin master"
alias gpd="git pull origin develop"

alias dl="aria2c -s16 -x16 -k1M"

# rust
source $HOME/.cargo/env

# TODO fix me 
# eval $(thefuck --alias)

gitclone () {
    echo "git clone by https://gitclone.com/"
    url=$1
    proxyed_url=$(sed 's/https:\/\//https:\/\/gitclone.com\//g'<<< $url)
    echo "origin url $url"
    echo "proxyed url $proxyed_url"
    git clone $proxyed_url
}


# load all shell-actions

load_awesome_shell_actions() {
    awesome_shell_actions_path=$1
    if [ -d $awesome_shell_actions_path ] 
    then 
        echo "find awesome-shell-actions in ${awesome_shell_actions_path} start load"
        for file in $awesome_shell_actions_path/scripts/*.sh; do
            echo "load $file"
            . "$file"
        done
    else
        echo "cloud not find awesome-shell-actions in $awesome_shell_actions_path ignore"
    fi
}

load_awesome_shell_actions ~/.zsh/awesome-shell-actions/


## set proxy
export HTTPS_PROXY=http://127.0.0.1:20172/
export ALL_PROXY=socks://127.0.0.1:20170/
export HTTP_PROXY=http://127.0.0.1:20172/
export NO_PROXY=localhost,127.0.0.0/8,::1

alias vim=nvim



ME=$(who|head -n 1 | awk '{print $1}')
HOME=/home/${ME}


## gvm
source ~/.gvm/scripts/gvm
export PATH=~/sm/scripts:$PATH

export S_CONFIG_DIR=~/sm/pv/s-config
alias wget-proxy="wget  -e use_proxy=on -e http_proxy=http://127.0.0.1:20172 -e https_proxy=http://127.0.0.1:20172 "
